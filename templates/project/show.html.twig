{% extends 'base.html.twig' %}

{% block title %}Project
{% endblock %}
{% block breadcrumb %}
	<li class="breadcrumb-item">
		<a href="{{path('project_index')}}">{% trans %}
			Project
			{% endtrans %}</a>
	</li>
	<li class="breadcrumb-item active">{% trans %}
		Show
		{% endtrans %}</li>
{% endblock %}
{% block pagetitle %}
	{% trans %}
	Show Project
	{% endtrans %}
{% endblock %}
{% block body %}
	<div class="row">
		<div class="col-md-12">
			<div class="card">
				<div class="card-header border-0">
					<h3 class="card-title">Project Information</h3>
					<div class="card-tools">
						<a href="#" class="btn btn-tool btn-sm">
							<i class="fas fa-bars"></i>
						</a>
					</div>
				</div>
				<div class="card-body table-responsive p-0">
					<table class="table table-striped table-valign-middle">
						<thead>
							<tr>
								<th>Name</th>
								<th>Amount</th>
								<th>Start Date</th>
								<th>End Date</th>
								<th>Stakeholders</th>
								<th>Status</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<a href="#">{{ project.name }}</a>
								</td>
								<td>{{ project.currency.abbreviation }}
									{{ project.amount }}</td>
								<td>{{ project.startDate ? project.startDate|date('Y-m-d') : '' }}</td>
								<td>{{ project.endDate ? project.endDate|date('Y-m-d') : '' }}</td>
								<td>
									{{ project.stakeholders|raw }}
								</td>
								<td>
									{% if project.status == 1 %}
										Active
									{% else %}
										Closed
									{% endif %}
								</td>
							</tr>
							<tr>
								<th>Category</th>
								<th>Project Manager</th>
								<th>Program</th>
							</tr>
							<tr>
								<td>
									{{ project.category.name }}
								</td>
								<td>{{ project.projectManager.username }}</td>
								<td>
									{% if project.program is not null  %}
										{{ project.program.name }}
									{% endif %}
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div><br>
	<h3>Resources</h3>
	<div class="row">
		<div class="col-md-3">
			<div class="card card-outline card-primary">
				<div class="card-body">
					<h2 class="text-center">
						<span class="fa fa-plus fa-2x"></span>
					</h2>
					<h4 class="text-center">Add New</h4>

				</div>
			</div>
		</div>
		{% for resource in resources %}
			<div class="col-md-3">
				<div class="card card-outline card-primary">
					<div class="">
						<div class="card-tools float-right">
							<div class="dropdown">
								<button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
								<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
									<a class="dropdown-item" href="#">Edit</a>
									<a class="dropdown-item" href="#">Delete</a>
									<a class="dropdown-item" href="#">Download</a>
								</div>
							</div>
						</div>
					</div>
					<div class="card-body">
						<h2 class="text-center">{{ resource.file|split('.')|last|upper }}</h2>
						<h4 class="text-center">{{ resource.title }}</h4>
					</div>
				</div>
			</div>
		{% endfor %}
		<div class="mx-auto d-block">
			<a class="btn btn-primary text-center" href="{{ path('project_resource_index', {'project': project.id })}}">View All</a>
		</div>
	</div><br>
	<h3>Members</h3>
	<div class="row">
		<div class="col-md-12 col-sm-6">
			<div class="card card-primary card-outline card-outline-tabs">
				<div class="card-header p-0 border-bottom-0">
					<ul
						class="nav nav-tabs" id="custom-tabs-four-tab" role="tablist">{# {% for team in teams %}
														<li class="nav-item">
															<a class="nav-link {% if loop.first %} active {% endif %}" id="custom-{{ team.id }}-tab" data-toggle="pill" href="#custom-tabs-{{ team.id }}" role="tab" aria-controls="custom-tabs-{{ team.id }}" aria-selected="false">{{ team.name }}</a>
														</li>
													{% endfor %} #}
					</ul>
				</div>
				<div class="card-body">
					<div
						class="tab-content" id="custom-tabs-four-tabContent">{# {% for team in teams %}
														<div class="tab-pane fade show {% if loop.first %} active {% endif %}" id="custom-tabs-{{ team.id }}" role="tabpanel" aria-labelledby="custom-{{ team.id }}-tab">
															{% for member in team.projectMembers %}
																{{ member.user.username }}
															{% else %}
																No members found
															{% endfor %}
														</div>
													{% endfor %} #}
					</div>
				</div>
			</div>
		</div>
		<div class="mx-auto d-block">
			<a class="btn btn-primary text-center" href="{{ path('project_members_index', {'project': project.id })}}">View All</a>
		</div>
	</div><br>
{% endblock %}
